[toc]
***

### 大模型

gemini 2.5 pro

### 问题

根据以下日报信息，生成 11.17 - 11.20 这周的周报：

1. 
智能移动机器人小组（聂金词）11月17日工作汇报如下：
研发类型：软件开发

完成任务1：AGV故障填报和分析系统开发
    - 在【故障统计报告】页面的统计结果处显示统计数据的实际开始和结束时间
    - 从【故障统计报告】页面【返回首页】时，保持【故障统计报告】页面的查询条件。

完成任务2：AGV 设备标准化操作与维护知识库创建
    - 探索使用*飞书云文档*创建知识库
    - 查看链接: https://acnvevxxdx0x.feishu.cn/wiki/OEUiwaUXdi3cRCkEoBncKfKjnVb?fromScene=spaceOverview

明天计划：

任务1：AGV故障填报和分析系统开发
    - 收集用户侧的反馈，然后改进和优化

任务2：agv小车开发和维护
    - 2d3dslam统一改动联调。

任务3：上位机后端服务器适配开发，以支持web和小屏需求

2. 
智能移动机器人小组（聂金词）11月18日工作汇报如下：
研发类型：软件开发

完成任务1：排查贾工反馈的在上位机拉取地图失败的问题
    - 问题现象：在上位机拉取地图时，弹窗提示 "地图拉取失败: Failed to open pc//map_test.smap"
    - 排查和定义：wireshark 抓包分析请求参数，原因是接口调用的参数格式不对
    - 处理：反馈给刘工

完成任务2：AGV 设备标准化操作与维护知识库创建
    - 测试不登录的阅读权限和添加成员后的编辑权限
    - 问题：需要讨论是否购买商业版本

明天计划：

任务1：AGV故障填报和分析系统开发
    - 收集用户侧的反馈，然后改进和优化

任务2：agv小车开发和维护
    - 2d3dslam统一改动联调。

任务3：上位机后端服务器适配开发，以支持web和小屏需求


3. 
智能移动机器人小组（聂金词）11月19日工作汇报如下：
研发类型：软件开发

完成任务1：AGV故障填报和分析系统开发
    - 对提交的故障信息中的车辆信息进行“清洗”和“标准化”，以提升数据质量和后续统计分析的准确性。*6号车* 和 *6 号车* 都会被解析为 6

完成任务2：2d3dslam统一改动联调。
    - 问题1：上位机切换模式失败
    - 原因：服务端订阅state的回调不执行，agv_service 版本不一致导致，本地更新 agv_service 重新编译服务端解决
    - 问题2: 上位机服务端程序core掉了
    - 原因：处理点云数据时，没有检查 intensity 字段是否存在就直接创建迭代器。当一个不包含 intensity 字段的点云消息被处理时，程序就会崩溃。
    - 改动: 检查点云数据中是否有 x,y,z,intensity，任意一个没有，就丢弃该点云。待调试验证。

明天计划：

任务1：AGV故障填报和分析系统开发
    - 收集用户侧的反馈，然后改进和优化

任务2：agv小车开发和维护
    - 2d3dslam统一改动联调。

任务3：上位机后端服务器适配开发，以支持web和小屏需求

4. 

智能移动机器人小组（聂金词）11月20日工作汇报如下：
研发类型：软件开发

完成任务1：2d3dslam统一改动联调。
    - 问题1：上位机运行一段时间后点云不更新
    - 原因：从网络连接状态来看，连接接收队列一直在堆积数据，服务端未消费，排查不消费原因

明天计划：

任务1：AGV故障填报和分析系统开发
    - 收集用户侧的反馈，然后改进和优化

任务2：agv小车开发和维护
    - 2d3dslam统一改动联调。

任务3：上位机后端服务器适配开发，以支持web和小屏需求


---

好的，这是根据您提供的日报生成的 11.17 - 11.20 周报。

---
好的，这是根据您提供的日报生成的周报。

---

### 智能移动机器人小组周报 (聂金词)
**周期：** 2025.11.17 - 2025.11.20

---

#### 本周工作总结

本周主要围绕 **AGV故障填报和分析系统** 的功能优化、**2D/3D SLAM统一改动** 的联调测试，以及 **AGV设备知识库** 的初步搭建这三个方面展开工作。

**1. AGV故障填报和分析系统开发**
   - **数据质量提升**：对故障提报中的车辆信息增加了“清洗”和“标准化”处理，确保不同格式的车辆编号（如“6号车”和“6 号车”）能被统一解析，提高了后续数据统计的准确性。
   - **用户体验优化**：
     - 在【故障统计报告】页面增加了统计数据的实际起止时间显示，使用户对数据范围一目了然。
     - 优化了页面导航，当用户从统计报告页返回首页时，能够自动保留之前的查询条件，方便再次查询。

2. 2D/3D SLAM 统一改动联调
   - **问题排查与解决**：
     - **上位机切换模式失败**：经排查，原因为服务端 `agv_service` 版本不一致，通过更新版本和重新编译后解决。
     - **上位机服务端程序崩溃**：定位到原因为处理点云数据时，程序未检查 `intensity` 字段是否存在便创建迭代器导致。已修改代码，在处理前增加对 `x,y,z,intensity` 字段的完整性检查。
     - **上位机地图拉取失败**：协助贾工排查问题，通过抓包分析发现是接口调用参数格式错误，已将问题反馈给刘工处理。
   - **正在跟进的问题**：
     - **点云不更新**：联调过程中发现上位机运行一段时间后点云停止更新。初步排查是网络连接的接收队列数据堆积，服务端未及时消费。目前正在深入排查根本原因。

3. AGV 设备标准化操作与维护知识库创建
   - **平台探索**：初步选用“飞书云文档”作为知识库的搭建平台，并创建了基础框架。
   - **权限测试**：测试了文档在非登录状态下的阅读权限，以及添加成员后的编辑权限。后续需团队讨论是否采购商业版本以满足更复杂的权限管理需求。

---

#### 下周工作计划

1.  **AGV故障填报和分析系统**：持续收集用户侧的反馈，进行针对性的改进和优化。
2.  **AGV小车开发和维护**：继续进行 2D/3D SLAM 统一改动的联调工作，重点解决点云不更新的问题。
3.  **上位机后端服务器**：启动后端服务器的适配开发工作，以支持 Web 和小屏等不同客户端的需求。


### 周报填写

1. AGV故障填报和分析系统开发
    - 数据质量提升：对故障提报中的车辆信息增加了“清洗”和“标准化”处理，确保不同格式的车辆编号（如“6号车”和“6 号车”）能被统一解析，提高了后续数据统计的准确性。
    - 用户体验优化：
        - 在【故障统计报告】页面增加了统计数据的实际起止时间显示，使用户对数据范围一目了然。
        - 优化了页面导航，当用户从统计报告页返回首页时，能够自动保留之前的查询条件，方便再次查询。

2. 2D/3D SLAM 统一改动联调
    - 问题排查与解决：
    - 上位机切换模式失败：经排查，原因为服务端 `agv_service` 版本不一致，通过更新版本和重新编译后解决。
    - 上位机服务端程序崩溃：定位到原因为处理点云数据时，程序未检查 `intensity` 字段是否存在便创建迭代器导致。已修改代码，在处理前增加对 `x,y,z,intensity` 字段的完整性检查。
    - 上位机地图拉取失败：协助贾工排查问题，通过抓包分析发现是接口调用参数格式错误，已将问题反馈给刘工处理。
    - 正在跟进的问题：
        - 点云不更新**：联调过程中发现上位机运行一段时间后点云停止更新。初步排查是网络连接的接收队列数据堆积，服务端未及时消费。目前正在深入排查根本原因。

3. AGV 设备标准化操作与维护知识库创建
    - 平台探索：初步选用“飞书云文档”作为知识库的搭建平台，并创建了基础框架。
    - 权限测试：测试了文档在非登录状态下的阅读权限，以及添加成员后的编辑权限。后续需团队讨论是否采购商业版本以满足更复杂的权限管理需求。


优化线程模型：

考虑将耗时长的I/O操作或业务逻辑与网络I/O线程分离。当前的 ThreadPool 将所有任务都放在同一个池子里，一个慢任务会阻塞分配到该线程的所有其他任务。可以设计不同类型的线程池，例如一个专门处理网络收发的I/O线程池，一个处理业务逻辑的计算线程池。


异步化处理耗时任务：

这是更根本的解决方案。将线程池进行改造，区分出两种类型的任务：
I/O任务：快速的网络读写操作，在I/O线程中执行。
业务逻辑任务：可能耗时的操作，应该被投递到另一个专门的工作线程池中去执行，执行完毕后，再将结果交由I/O线程发回给客户端。
这样

commit:
优化线程模型：
    将耗时长的I/O操作或业务逻辑与网络I/O线程分离，对线程池进行改造，区分出两种类型的任务：
    - I/O任务：快速的网络读写操作，在I/O线程中执行。
    - 业务逻辑任务：可能耗时的操作，应该被投递到另一个专门的工作线程池中去执行，执行完毕后，再将结果交由I/O线程发回给客户端。